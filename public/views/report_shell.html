<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="/touchscreentoolkit/lib/stylesheets/touch-fancy.css" type="text/css">
</head>
<body oncontextmenu="return false;" style="margin: 0px;">
<div align="center"
     style="font-size: 2.3em; background-color: rgb(98, 129, 167); color: rgb(238, 238, 238); padding: 15px;">
    Facility Report
</div>
<div style="text-align: right; height: 70px; padding-right: 20px;">
    <table style="float: right;">
        <tr>
            <td align="right" style="padding: 10px; font-size: 18px;">
                Year
            </td>
            <td>
                <select id="year" style="font-size: 24px;" onchange="reloadReport()">
                    <option style="padding: 10px;"></option>
                </select>
            </td>
            <td align="right" style="padding: 10px; font-size: 18px;">
                Month
            </td>
            <td>
                <select id="month" style="font-size: 24px;" onchange="reloadReport()">
                    <option style="padding: 10px;"></option>
                    <option style="padding: 10px;" value="01">January</option>
                    <option style="padding: 10px;" value="02">February</option>
                    <option style="padding: 10px;" value="03">March</option>
                    <option style="padding: 10px;" value="04">April</option>
                    <option style="padding: 10px;" value="05">May</option>
                    <option style="padding: 10px;" value="06">June</option>
                    <option style="padding: 10px;" value="07">July</option>
                    <option style="padding: 10px;" value="08">August</option>
                    <option style="padding: 10px;" value="09">September</option>
                    <option style="padding: 10px;" value="10">October</option>
                    <option style="padding: 10px;" value="11">November</option>
                    <option style="padding: 10px;" value="12">December</option>
                </select>
            </td>
        </tr>
    </table>
</div>

<div id="divMain" style="background-color: rgb(255, 255, 255); overflow: hidden; height: calc(100vh - 225px);">
    <iframe id="ifrMain" style="width: 100%; height: 100%; border: 1px solid rgb(98, 129, 167);"
            src="/views/site_report.html">

    </iframe>
</div>
<div style="background-color: rgb(51, 51, 51); height: 80px; overflow: hidden; padding: 0px;">&nbsp;
    <button class="green" style="float: right; margin: 10px 15px 15px; min-width: 140px;" id="nextButton"
            onclick="window.location = '/';">
        Finish
    </button>
</div>
<script>

    function __$(id) {

        return document.getElementById(id);

    }

    function loadYears() {

        var years = [];

        for (var y = (new Date()).getFullYear(); y > (new Date()).getFullYear() - 10; y--) {

            years.push(y);

            if (__$("year")) {

                var opt = document.createElement("option");
                opt.innerHTML = y;
                opt.style.padding = "10px";

                if(y == (new Date()).getFullYear()) {

                    opt.setAttribute("selected", true);

                }

                __$("year").appendChild(opt);

            }

        }

        var months = {
            0: "01",
            1: "02",
            2: "03",
            3: "04",
            4: "05",
            5: "06",
            6: "07",
            7: "08",
            8: "09",
            9: "10",
            10: "11",
            11: "12"
        }

        if(__$("month")) {

            __$("month").value = months[((new Date()).getMonth() > 0 ? (new Date()).getMonth() - 1 : 11)];

        }

    }

    function reloadReport() {

        if(__$("ifrMain")) {

            __$("ifrMain").contentWindow.location = __$("ifrMain").contentWindow.location.href;

        }

    }

    loadYears();

</script>
</body>
</html>